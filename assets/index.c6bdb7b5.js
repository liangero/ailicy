import{c as e,w as t,u as a,r as s,o as n,a as o,N as i,p as r,b as l,d,e as c,f as u,h as m,g as p,i as g,j as h,R as _,k as v,l as b,m as f,n as y,q as L,s as E,t as k,v as w,x as I,y as x,z as P,A as O,B as A,C as S,D as j,E as V,F as R,G as W,H as D}from"./vendor.bbaf0565.js";const K={setup:r=>(r,l)=>{const d=s("router-view");return n(),e(a(i),null,{default:t((()=>[o(d)])),_:1})}};let T;const N={},$=function(e,t){if(!t||0===t.length)return e();if(void 0===T){const e=document.createElement("link").relList;T=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/ailicy/${e}`)in N)return;N[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":T,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))};const M={name:"WLogo"},U=d("data-v-3303c432");r("data-v-3303c432");const z={class:"w-logo-box"},C=o("img",{src:"/ailicy/logo.svg",class:"w-logo",alt:"logo"},null,-1);l();const q=U(((t,a,s,o,i,r)=>(n(),e("div",z,[C]))));M.render=q,M.__scopeId="data-v-3303c432";const B=d();r("data-v-4481ba9d");const G=f("登录"),H=f("M");l();const F={setup(t){const s=c((()=>"true"===sessionStorage.getItem("isLogged"))),i=u([{label:"请注意观察用户登录！",key:"msg-1"},{label:"设置",key:"setting"},{label:()=>m(p,{text:!0,type:"primary"},{default:()=>"退出登录"}),key:"logout"}]);let r=g(),l=h();const d=e=>{"logout"===e&&l.dispatch("user/logout").then((()=>{r.push({name:"login"})}))};return(t,r)=>a(s)?(n(),e(a(b),{key:1,trigger:"click",placement:"bottom-end",options:i.value,onSelect:d,size:"medium"},{default:B((()=>[o(a(v),{round:"",size:"medium",style:{cursor:"pointer"}},{default:B((()=>[H])),_:1})])),_:1},8,["options"])):(n(),e(a(_),{key:0,class:"router-link-active",to:{name:"login"}},{default:B((()=>[G])),_:1}))},__scopeId:"data-v-4481ba9d"};const J={name:"WHeader",computed:{searchOptions(){let e=new RegExp(this.searchValue,"gim");return this.allSearchOption.filter((t=>e.test(t.name))).map((e=>({label:e.label,value:e.name})))}},created(){},data:()=>({activeKey:void 0,allSearchOption:[],searchValue:"",menuOptions:[{label:()=>m(_,{to:"/"},{default:()=>"首页"}),key:"index"},{label:()=>m(_,{to:"/"},{default:()=>"文档"}),key:"login"},{label:()=>m(_,{to:"/"},{default:()=>"组件"}),key:"doc"}]}),props:{},methods:{selectSearch(e){this.$router.push({name:e})}},components:{UserAvatar:F,NGrid:y,NGi:L,NMenu:E,WLogo:M,NBadge:k,NAutoComplete:w}},Q=d("data-v-b24abb96");r("data-v-b24abb96");const X={class:"w-header"},Y=o("div",{class:"w-header-logo"},[o("img",{src:"/ailicy/logo.svg",alt:"",style:{height:"42px"}})],-1),Z={class:"w-header-menu"},ee={class:"w-header-right"};l();const te=Q(((t,a,i,r,l,d)=>{const c=s("n-menu"),u=s("n-auto-complete"),m=s("user-avatar");return n(),e("div",X,[Y,o("div",Z,[o(c,{value:l.activeKey,"onUpdate:value":a[1]||(a[1]=e=>l.activeKey=e),mode:"horizontal",options:l.menuOptions},null,8,["value","options"]),o(u,{style:{width:"300px","margin-left":"20px"},placeholder:"搜索",value:l.searchValue,"onUpdate:value":a[2]||(a[2]=e=>l.searchValue=e),"clear-after-select":"","on-select":d.selectSearch,options:d.searchOptions},null,8,["value","on-select","options"])]),o("div",ee,[o(m)])])}));J.render=te,J.__scopeId="data-v-b24abb96";function ae(e){return e.filter((e=>!0!==e.meta.hidden&&""!==e.path)).map((e=>{let t={label:()=>m(_,{to:{name:e.name}},{default:()=>e.meta.title}),key:e.name};if(e.children){let a=ae(e.children);a.length>0&&(t.children=a)}return t}))}r("data-v-36f24c1a"),l();const se={name:"WSider",components:{NMenu:E},computed:{menuOptions:()=>ae(re)},created(){this.activeKey=this.$route.name},data:()=>({activeKey:void 0}),props:{},methods:{},watch:{$route:function(e){this.activeKey=e.name}}};se.render=function(t,a,o,i,r,l){const d=s("n-menu");return n(),e(d,{value:r.activeKey,"onUpdate:value":a[1]||(a[1]=e=>r.activeKey=e),"root-indent":36,indent:12,options:l.menuOptions},null,8,["value","options"])};const ne={setup:i=>(window.$message=I(),(i,r)=>{const l=s("router-view");return n(),e(a(O),{style:{height:"100vh"}},{default:t((()=>[o(a(x),{bordered:"",style:{height:"64px"}},{default:t((()=>[o(J)])),_:1}),o(a(O),{bordered:"","has-sider":"",position:"absolute",style:{top:"64px",bottom:"0"}},{default:t((()=>[o(a(P),{"native-scrollbar":!1,bordered:""},{default:t((()=>[o("div",null,[o(se)])])),_:1}),o(a(O),{"native-scrollbar":!1},{default:t((()=>[o(a(A),{"content-style":"padding: 24px"},{default:t((()=>[o(l)])),_:1})])),_:1})])),_:1})])),_:1})})};const oe=S.create({baseURL:{}.VITE_APP_BASE_API,withCredentials:!1,timeout:5e3});oe.interceptors.request.use((e=>e),(e=>Promise.reject(e))),oe.interceptors.response.use((e=>e.data),(e=>{const t=e.response,a=t.status;return 500===a||403===a?Promise.reject(new Error(t.data.message)):Promise.reject(e)}));const ie=j({modules:{user:{namespaced:!0,state:()=>({isLogged:"true"===sessionStorage.getItem("isLogged")}),mutations:{},actions:{login({state:e},t){return(a=t,oe({url:"/login",method:"post",data:a})).then((t=>{sessionStorage.setItem("isLogged","true"),e.isLogged=!0}));var a},logout({state:e}){sessionStorage.removeItem("isLogged"),e.isLogged=!1}},getters:{}}}});V.configure({showSpinner:!1});const re=[{path:"/",component:ne,name:"index",meta:{title:"首页"},children:[{path:"",name:"windex",component:()=>$((()=>import("./WIndex.67b0c2df.js")),["assets/WIndex.67b0c2df.js","assets/vendor.bbaf0565.js"]),meta:{title:"首页",hidden:!0}}]},{path:"/link",component:ne,name:"link",meta:{title:"连接管理"},children:[{path:"",name:"linkIndex",meta:{title:"链接列表"},component:()=>$((()=>import("./LinkList.8c206a5a.js")),["assets/LinkList.8c206a5a.js","assets/LinkList.df1e5982.css","assets/vendor.bbaf0565.js"])},{path:"list",name:"linkList",meta:{title:"链接列表"},component:()=>$((()=>import("./LinkList.8c206a5a.js")),["assets/LinkList.8c206a5a.js","assets/LinkList.df1e5982.css","assets/vendor.bbaf0565.js"])}]},{path:"/page",component:ne,name:"pageManager",meta:{title:"页面管理",default:"pageList"},children:[{path:"",name:"pageManagerIndex",component:()=>$((()=>import("./WPage.0bf97be3.js")),["assets/WPage.0bf97be3.js","assets/vendor.bbaf0565.js"]),meta:{title:"页面列表"}},{path:"pageList",name:"pageList",component:()=>$((()=>import("./WPage.0bf97be3.js")),["assets/WPage.0bf97be3.js","assets/vendor.bbaf0565.js"]),meta:{title:"页面列表"}},{path:"pageAdd",name:"pageAdd",component:()=>$((()=>import("./WPage.0bf97be3.js")),["assets/WPage.0bf97be3.js","assets/vendor.bbaf0565.js"]),meta:{title:"添加页面"}}]},{path:"/login",name:"login",component:()=>$((()=>import("./Login.7deb3487.js")),["assets/Login.7deb3487.js","assets/Login.3a462d63.css","assets/vendor.bbaf0565.js"]),meta:{title:"登录",hidden:!0}}],le=R({history:W(),routes:re});le.beforeEach(((e,t,a)=>{V.start();let s=ie.state.user.isLogged;"login"===e.name?s?a({name:"windex"}):a():s?a():a({name:"login"})})),le.afterEach((e=>{V.done()})),D(K).use(le).use(ie).mount("#app");export{M as _,oe as s};
