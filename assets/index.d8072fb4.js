import{r as e,c as t,w as a,u as o,o as s,a as n,N as r,p as i,b as l,d,e as c,f as u,h as p,g as m,i as g,j as h,R as _,k as v,l as f,m as y,n as L,q as b,s as E,t as k,v as w,x as I,y as x,z as O,A as P,B as S,C as j,D as A,E as V,F as R,G as D,H as W,I as K}from"./vendor.21d26176.js";let T;const N={},$=function(e,t){if(!t||0===t.length)return e();if(void 0===T){const e=document.createElement("link").relList;T=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/ailicy/${e}`)in N)return;N[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":T,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))};const M={setup:i=>(i,l)=>{const d=e("router-view");return s(),t(o(r),null,{default:a((()=>[n(d)])),_:1})}};const U={name:"WLogo"},z=d("data-v-5749e1c2");i("data-v-5749e1c2");const C={class:"w-logo-box"},q=n("img",{src:"/ailicy/logo.svg",class:"w-logo",alt:"logo"},null,-1);l();const G=z(((e,a,o,n,r,i)=>(s(),t("div",C,[q]))));U.render=G,U.__scopeId="data-v-5749e1c2";const B=d();i("data-v-41d759f4");const H=y("登录"),F=y("M");l();const J={setup(e){const a=c((()=>"true"===sessionStorage.getItem("isLogged"))),r=u([{label:"请注意观察用户登录！",key:"msg-1"},{label:"设置",key:"setting"},{label:()=>p(m,{text:!0,type:"primary"},{default:()=>"退出登录"}),key:"logout"}]);let i=g(),l=h();const d=e=>{"logout"===e&&l.dispatch("user/logout").then((()=>{i.push({name:"login"})}))};return(e,i)=>o(a)?(s(),t(o(f),{key:1,trigger:"click",placement:"bottom-end",options:r.value,onSelect:d,size:"medium"},{default:B((()=>[n(o(v),{round:"",size:"medium",style:{cursor:"pointer"}},{default:B((()=>[F])),_:1})])),_:1},8,["options"])):(s(),t(o(_),{key:0,class:"router-link-active",to:{name:"login"}},{default:B((()=>[H])),_:1}))},__scopeId:"data-v-41d759f4"};const Q={name:"WHeader",computed:{searchOptions(){let e=new RegExp(this.searchValue,"gim");return this.allSearchOption.filter((t=>e.test(t.name))).map((e=>({label:e.label,value:e.name})))}},created(){},data:()=>({activeKey:void 0,allSearchOption:[],searchValue:"",menuOptions:[{label:()=>p(_,{to:"/"},{default:()=>"首页"}),key:"index"},{label:()=>p(_,{to:"/"},{default:()=>"文档"}),key:"login"},{label:()=>p(_,{to:"/"},{default:()=>"组件"}),key:"doc"}]}),props:{},methods:{selectSearch(e){this.$router.push({name:e})}},components:{UserAvatar:J,NGrid:L,NGi:b,NMenu:E,WLogo:U,NBadge:k,NAutoComplete:w}},X=d("data-v-ff45d55c");i("data-v-ff45d55c");const Y={class:"w-header"},Z=n("div",{class:"w-header-logo"},[n("img",{src:"/ailicy/logo.svg",alt:"",style:{height:"42px"}})],-1),ee={class:"w-header-menu"},te={class:"w-header-right"};l();const ae=X(((a,o,r,i,l,d)=>{const c=e("n-menu"),u=e("n-auto-complete"),p=e("user-avatar");return s(),t("div",Y,[Z,n("div",ee,[n(c,{value:l.activeKey,"onUpdate:value":o[1]||(o[1]=e=>l.activeKey=e),mode:"horizontal",options:l.menuOptions},null,8,["value","options"]),n(u,{style:{width:"300px","margin-left":"20px"},placeholder:"搜索",value:l.searchValue,"onUpdate:value":o[2]||(o[2]=e=>l.searchValue=e),"clear-after-select":"","on-select":d.selectSearch,options:d.searchOptions},null,8,["value","on-select","options"])]),n("div",te,[n(p)])])}));Q.render=ae,Q.__scopeId="data-v-ff45d55c";function oe(e){return e.filter((e=>!0!==e.meta.hidden&&""!==e.path)).map((e=>{let t={label:()=>p(_,{to:{name:e.name}},{default:()=>e.meta.title}),key:e.name};if(e.children){let a=oe(e.children);a.length>0&&(t.children=a)}return t}))}i("data-v-d0aad41c"),l();const se={name:"WSider",components:{NMenu:E},computed:{menuOptions:()=>oe(le)},created(){this.activeKey=this.$route.name},data:()=>({activeKey:void 0}),props:{},methods:{},watch:{$route:function(e){this.activeKey=e.name}}};se.render=function(a,o,n,r,i,l){const d=e("n-menu");return s(),t(d,{value:i.activeKey,"onUpdate:value":o[1]||(o[1]=e=>i.activeKey=e),"root-indent":36,indent:12,options:l.menuOptions},null,8,["value","options"])};const ne={setup:r=>(window.$message=I(),(r,i)=>{const l=e("router-view");return s(),t(o(P),{style:{height:"100vh"}},{default:a((()=>[n(o(x),{bordered:"",style:{height:"64px"}},{default:a((()=>[n(Q)])),_:1}),n(o(P),{bordered:"","has-sider":"",position:"absolute",style:{top:"64px",bottom:"0"}},{default:a((()=>[n(o(O),{"native-scrollbar":!1,bordered:""},{default:a((()=>[n("div",null,[n(se)])])),_:1}),n(o(P),{"native-scrollbar":!1},{default:a((()=>[n(o(S),{"content-style":"padding: 24px"},{default:a((()=>[n(l)])),_:1}),j("        <n-layout-footer>"),j("          <w-footer/>"),j("        </n-layout-footer>")])),_:1})])),_:1})])),_:1})})};const re=A.create({baseURL:"/api",withCredentials:!1,timeout:9e4});re.interceptors.request.use((e=>e),(e=>Promise.reject(e))),re.interceptors.response.use((e=>e.data),(e=>{const t=e.response,a=t.status;return 500===a||403===a?Promise.reject(new Error(t.data.message)):Promise.reject(e)}));const ie=V({modules:{user:{namespaced:!0,state:()=>({isLogged:"true"===sessionStorage.getItem("isLogged")}),mutations:{},actions:{login({state:e},t){return(a=t,re({url:"/login",method:"post",data:a})).then((t=>{sessionStorage.setItem("isLogged","true"),e.isLogged=!0}));var a},logout({state:e}){sessionStorage.removeItem("isLogged"),e.isLogged=!1}},getters:{}}}});R.configure({showSpinner:!1});const le=[{path:"/",component:ne,name:"index",meta:{title:"首页"},children:[{path:"",name:"windex",component:()=>$((()=>import("./WIndex.fdf9e04d.js")),["assets/WIndex.fdf9e04d.js","assets/vendor.21d26176.js"]),meta:{title:"首页",hidden:!0}}]},{path:"/link",component:ne,name:"link",meta:{title:"连接管理"},children:[{path:"",name:"linkIndex",meta:{title:"链接列表"},component:()=>$((()=>import("./LinkList.a6ef337b.js")),["assets/LinkList.a6ef337b.js","assets/LinkList.df1e5982.css","assets/vendor.21d26176.js"])},{path:"list",name:"linkList",meta:{title:"链接列表"},component:()=>$((()=>import("./LinkList.a6ef337b.js")),["assets/LinkList.a6ef337b.js","assets/LinkList.df1e5982.css","assets/vendor.21d26176.js"])}]},{path:"/page",component:ne,name:"pageManager",meta:{title:"页面管理",default:"pageList"},children:[{path:"",name:"pageManagerIndex",component:()=>$((()=>import("./WPage.81a2afd9.js")),["assets/WPage.81a2afd9.js","assets/vendor.21d26176.js"]),meta:{title:"页面列表"}},{path:"pageList",name:"pageList",component:()=>$((()=>import("./WPage.81a2afd9.js")),["assets/WPage.81a2afd9.js","assets/vendor.21d26176.js"]),meta:{title:"页面列表"}},{path:"pageAdd",name:"pageAdd",component:()=>$((()=>import("./WPage.81a2afd9.js")),["assets/WPage.81a2afd9.js","assets/vendor.21d26176.js"]),meta:{title:"添加页面"}}]},{path:"/login",name:"login",component:()=>$((()=>import("./Login.57c6cb84.js")),["assets/Login.57c6cb84.js","assets/Login.3c162821.css","assets/vendor.21d26176.js"]),meta:{title:"登录",hidden:!0}}],de=D({history:W(),routes:le});de.beforeEach(((e,t,a)=>{R.start();let o=ie.state.user.isLogged;"login"===e.name?o?a({name:"windex"}):a():o?a():a({name:"login"})})),de.afterEach((e=>{R.done()})),K(M).use(de).use(ie).mount("#app"),$((()=>import("./prodServer.29b14670.js")),["assets/prodServer.29b14670.js","assets/vendor.21d26176.js"]).then((({setupProdMockServer:e})=>{e()}));export{U as _,re as s};
